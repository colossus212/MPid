#include "../src/include/Pid.hpp"

// UnitTest++ library
#include "UnitTest++/src/UnitTest++.h"

using namespace Pid;


TEST(ZeroInZeroOutTest)
{
	PidDbl pidTest;

	// Set-up P only controller
	pidTest.Init(
		1.0,									//!< Kp
		0.0,									//!< Ki
		0.0,									//!< Kd
		Pid::PidDbl::PID_DIRECT,		//!< Control type
		Pid::PidDbl::VELOCITY_PID,		//!< Control type
		10.0,									//!< Update rate (ms)
		0.0,									//!< Min output
		100.0,								//!< Max output
		0.0									//!< Initial set-point
	);
	
	pidTest.Run(0.0);

	CHECK_EQUAL(pidTest.output, 0);

}

TEST(POnlyTest)
{
	PidDbl pidTest;

	// Set-up P only controller
	pidTest.Init(
		1.0,									//!< Kp
		0.0,									//!< Ki
		0.0,									//!< Kd
		Pid::PidDbl::PID_DIRECT,		//!< Control type
		Pid::PidDbl::VELOCITY_PID,		//!< Control type
		10.0,									//!< Update rate (ms)
		0.0,									//!< Min output
		100.0,								//!< Max output
		0.0									//!< Initial set-point
	);
	
	pidTest.Run(1.0);

	CHECK_EQUAL(pidTest.output, 0);

}

int main()
{
	return UnitTest::RunAllTests();
}
